<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard | Nebula Payroll</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body class="subtle-bg">
    <header class="app-header">
      <div class="app-header__brand">Nebula Payroll</div>
      <div class="app-header__actions">
        <button id="logoutBtn" class="btn ghost small">Log Out</button>
      </div>
    </header>

    <div class="app-layout">
      <nav class="sidebar" aria-label="Primary">
        <div class="nav-group">
          <div class="nav-label">Main</div>
          <a class="nav-link active" aria-current="page" href="/dashboard.html">Dashboard</a>
        </div>

        <div class="nav-group">
          <div class="nav-label">Payroll</div>
          <a class="nav-link" href="/payroll-new.html">Run a New Payroll</a>
          <a class="nav-link" href="/payroll-atf.html">Run ATF Payroll</a>
          <a class="nav-link" href="/payroll-view.html">View Payroll</a>
          <a class="nav-link" href="/payroll-print.html">Print Payroll</a>
          <a class="nav-link" href="/payroll-void.html">Void Payroll</a>
        </div>

        <div class="nav-group">
          <div class="nav-label">Employees</div>
          <a class="nav-link" href="/employees.html">List Employees</a>
          <a class="nav-link" href="/employee-add.html">Add Employee</a>
          <a class="nav-link" href="/pay-schedules.html">Edit Pay Schedules</a>
          <a class="nav-link" href="/manage-pto.html">Manage PTO</a>
        </div>

        <div class="nav-group">
          <div class="nav-label">Time Tracking</div>
          <a class="nav-link" href="/timesheets.html">Timesheets</a>
          <a class="nav-link" href="/approvals.html">Approvals</a>
        </div>

        <div class="nav-group">
          <div class="nav-label">Reports</div>
          <a class="nav-link" href="/reports.html">View Reports</a>
        </div>

        <div class="nav-group">
          <div class="nav-label">Settings</div>
          <a class="nav-link" href="/settings.html">Company Settings</a>
        </div>
      </nav>

      <main class="workspace">
        <section class="workspace__heading">
          <h1>Welcome back</h1>
          <p class="lead">Your tools are organized on the left so you can jump straight into payroll.</p>
        </section>

        <section class="workspace__grid">
          <article class="panel">
            <h2>Quick actions</h2>
            <ul class="action-list">
              <li><a class="nav-link" href="/payroll-new.html">Run a new payroll for this pay period.</a></li>
              <li><a class="nav-link" href="/payroll-atf.html">Enter after-the-fact (ATF) payrolls when checks already went out.</a></li>
              <li><a class="nav-link" href="/payroll-print.html">Print</a> or <a class="nav-link" href="/payroll-void.html">void</a> recent payroll runs.</li>
            </ul>
          </article>

          <article class="panel">
            <h2>Employees</h2>
            <ul class="action-list">
              <li><a class="nav-link" href="/employees.html">Review existing employees before the next run.</a></li>
              <li><a class="nav-link" href="/employee-add.html">Add a new hire so their hours can be tracked.</a></li>
            </ul>
          </article>

          <article class="panel">
            <h2>Reports & Settings</h2>
            <ul class="action-list">
              <li><a class="nav-link" href="/reports.html">View payroll, tax, and deduction reports.</a></li>
              <li><a class="nav-link" href="/settings.html">Update company or payroll settings anytime.</a></li>
            </ul>
          </article>
        </section>
      </main>
    </div>

    <script>
      const token = localStorage.getItem('payrollAuthToken');
      if (!token) {
        window.location.href = '/';
      }

      const logoutBtn = document.getElementById('logoutBtn');
      logoutBtn.addEventListener('click', () => {
        localStorage.removeItem('payrollAuthToken');
        window.location.href = '/';
      });
    </script>
  </body>
</html>
